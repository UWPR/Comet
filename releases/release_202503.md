### Comet releases 2025.03

Documentation for parameters for release 2025.03 [can be found 
here](/Comet/parameters/parameters_202503/).

Download release [here](https://github.com/UWPR/Comet/releases).

#### release 2025.03 rev. 0 (2025.03.0), release date 2025/11/12

- Added support AScorePro modification site localization. Localization can be specified for any variable modifications (e.g. phosphorylation of STY) or calculated on all variable modifications on a peptide (e.g. oxidation of M and phosphorylation of STY). The application of AScorePro is controlled by the [print_ascorepro_score](https://uwpr.github.io/Comet/parameters/parameters_202503/print_ascorepro_score.html) parameter.  The AScorePro MOB score and site scores are available in the real-time search interface of CometWrapper.dll and in the .pep.xml, .mzid, and .txt output formats.  Details of AScorePro use in Comet [can be found here](https://uwpr.github.io/Comet/notes/20251112_AScorePro.html). This functionality is currently considered experimental, especially the extension of the localization scoring to all modifications. Also, many AScorePro parameters are currently not exposed to Comet users to allow changing those parameter values. Thanks to the original AScorePro developers for making their software available [as an open source C# project](https://github.com/gygilab/MPToolkit), V. Sharma for tackling the bulk of the work by translating the C# code to C++ and extending the functionality to optionally score all modifications in a peptide, W. Barshop for the original feature request, and the Schweppe lab for helpful discussions.
- Added functionality to perform real-time retention time alignment using MS1 precursor scans. This functionality is available through the real-time search interface of CometWrapper.dll.  A reference run is loaded in memory and retention time alignment can be performed on-the-fly during acquisition via the real-time search interface (with or without real-time MS2 database search).  Details of the MS1 retention time alignment [can be found here](https://uwpr.github.io/Comet/notes/20251112_MS1-RT-Alignment.html). Thanks to S. Gygi for the feature request and members of the Gygi lab, Schweppe lab, and our Thermo collaborators for helpful discussions.
- Simplified the fragment ion index by removing two dimensions in the fragment ion index (thread# and precursor mass range). This was made feasible by presorting all peptides before populating the index. This unfortunately doesn't manifest in a significant performance boost in Comet (see [the analysis at the end of this page](https://uwpr.github.io/Comet/notes/20241001_FI.html)) but it does simplify the data structure and corresponding code. Thanks to M. Hoopmann for this index optimization.
- Bug fix:  addressed an issue with peptide indexing where parsing the digest mass range from the .idx file resulted in a logic error where the wrong start mass was being parsed for each query, resulting in slow search times. This peptide indexing bug was introduced with [release 2025.01 rev. 0](https://uwpr.github.io/Comet/releases/release_202501.html) and present through [release 2025.02 rev. 0](https://uwpr.github.io/Comet/releases/release_202502.html).
- Bug fix:  addressed an issue with peptide indexing where the xcorr calculation was not considering all fragment ions.  The fragment ion mass range was being limited to the [fragment ion index maximum fragment mass](https://uwpr.github.io/Comet/parameters/parameters_202503/fragindex_max_fragmentma). For  larger peptides with fragment ions larger than the fragment ion index maximum fragment mass, the xcorr score would be lower than expected as those larger fragment ions were not contributing to the xcorr score. This peptide indexing bug was introduced [with release 2025.01 rev. 0](https://uwpr.github.io/Comet/releases/release_202501.html) and present through [release 2025.02 rev. 0](https://uwpr.github.io/Comet/releases/release_202502.html).
- Bug fix: in the deltaCn calculation, there's a simple peptide similarity determination that's performed. A bug existed in that similarity logic where K/Q and I/L comparisons were not performed on the correct intended pair of peptides. The bug was that one of the peptides in the similarity comparison was wrong (always the top ranked peptide). Thanks to D. Schweppe for identifying the bug.
